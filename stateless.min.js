!function(e,n){function t(e){var n=function(){var t=Array.prototype.concat.call([n],Array.prototype.splice.call(arguments,0));return e.apply(null,t)};return n}if(!e.stateless){var r=function(){var e=function(n,t){var r=!0;for(var o in t)"string"==typeof t[o]&&"!"===t[o][0]?typeof n[o]===t[o].substring(1)&&(r=!1):"object"==typeof n[o]&&"object"==typeof t[o]?r=e(n[o],t[o])&&r:typeof n[o]!==t[o]&&(r=!1);return r};return function(){var n=this,t=arguments;1===arguments.length&&(t=arguments[0]);var r=[],o=function(){};o.use=o.args=function(){return o};var s=function(){for(var n in r){var t=r[n];if(e(arguments,t.m))return t.e.apply(this,arguments)}},i=function(){var i=arguments;return{use:function(u){return 0==i.length&&delete s.args,r.push({m:i,e:u}),t.length&&e(t,i)?(u.apply(n,t),o):s}}};return s.args=i,s}}(),o=document.createElement("div"),s=[],i=function(e){var n={};if(!e)throw new Error("No element selected");var i={};Object.setPrototypeOf(n,i),Object.defineProperty(i,"parent",{enumerable:!1,configurable:!1,get:function(){return e.parentNode&&e.parentNode.scope}}),Object.defineProperty(i,"children",{enumerable:!1,configurable:!1,get:function(){return s.filter(function(e){return e.parent==n})}}),Object.defineProperty(i,"root",{enumerable:!1,configurable:!1,get:t(function(e,t){return t=t||n,t.parent?e(t.parent):t})});var u=function(e,t){Object.defineProperty(e,"scope",{enumerable:!1,configurable:!1,get:function(){return n}}),!1!==t&&Array.prototype.forEach.call(e.querySelectorAll("*"),function(e){u(e,!1)})};u(e);var c={};return i.on=r().args({scope:{on:"function"},addEventListener:"function"},"string","function").use(function(e,t,r){if(e.scope==n){var o=!1;(c[t]||(c[t]=[])).forEach(function(n){n.fn!=r&&n.fn.toString()!=r.toString()||n.el!=e||(o=!0)}),o?console.warn("listener is already registered"):(e.addEventListener(t,r),c[t].push({fn:r,el:e}))}else e.scope.on(e,t,r);return n}).args({0:"object",length:"number",forEach:"function"},"string","function").use(function(e,t,r){return e.forEach(function(e){n.on(e,t,r)}),n}).args("string","string","function").use(function(e,t,r){return"$"==e[0]?n.elements(e).forEach(function(e){n.on(e,t,r)}):console.warn("selector must begin with '$'"),n}).args("string","function").use(function(t,r){return n.on(e,t,r),n}).args().use(function(){return console.warn("on function inputs improperly formatted"),n}),i.off=r().args({scope:{off:"function"},addEventListener:"function"},"string","function").use(function(e,t,r){if(e.scope==n){var o=c[t],s=!1;o&&o.forEach(function(n,i){n.fn!=r&&n.fn.toString()!=r.toString()||n.el!=e||(s=!0,e.removeEventListener(t,n.fn),o.splice(i,1))}),s||console.warn("Listener is not currently registered")}else e.scope.off(e,t,r);return n}).args({0:"object",length:"number",forEach:"function"},"string","function").use(function(e,t,r){e.forEach(function(e){n.off(e,t,r)})}).args("string","string","function").use(function(e,t,r){return"$"==e[0]?n.elements(e).forEach(function(e){n.off(e,t,r)}):console.warn("selector must begin with '$'"),n}).args("string","function").use(function(t,r){return n.off(e,t,r),n}).args().use(function(){return console.warn("off function inputs improperly formatted"),n}),i.once=r().args({scope:{off:"function"},addEventListener:"function"},"string","function").use(function(e,t,r){if(e.scope==n){var o=function(s){r(s),n.off(e,t,o)};n.on(e,t,o)}else e.scope.once(e,t,r);return n}).args({0:"object",length:"number",forEach:"function"},"string","function").use(function(e,t,r){e.forEach(function(e){n.once(e,t,r)})}).args("string","string","function").use(function(e,t,r){return"$"==e[0]?n.elements(e).forEach(function(e){n.once(e,t,r)}):console.warn("selector must begin with '$'"),n}).args("string","function").use(function(t,r){return n.once(e,t,r),n}).args().use(function(){return console.warn("once function inputs improperly formatted"),n}),i.hasClass=r().args({className:"string"},"string").use(function(e,n){return!!e.className.match(new RegExp("(^"+n+"$|\\s"+n+"\\s|^"+n+"\\s|\\s"+n+"$)"))}).args("string","string").use(function(e,t){return"$"==e[0]?n.hasClass(n.element(e),t):(console.warn("selector must begin with '$'"),!1)}).args("string").use(function(t){return n.hasClass(e,t)}).args().use(function(e){return console.warn("malformed call"),!1}),i.addClass=r().args({scope:"object",className:"string"},"string","boolean").use(function(e,t,r){return e.scope==n?!r&&n.hasClass(e,t)||(e.className+=" "+t,e.className=e.className.replace(/(^\s+|\s+$)/g,"")):e.scope.addClass(e,t,r),n}).args({scope:"object",className:"string"},"string").use(function(e,t){return n.addClass(e,t,!1),n}).args({0:"object",length:"number",forEach:"function"},"string","boolean").use(function(e,t,r){e.forEach(function(e){n.addClass(e,t,r)})}).args("string","string","boolean").use(function(e,t,r){return"$"==e[0]?n.elements(e).forEach(function(e){n.addClass(e,t,r)}):console.warn("selector must begin with '$'"),n}).args({0:"object",length:"number",forEach:"function"},"string").use(function(e,t){e.forEach(function(e){n.addClass(e,t,!1)})}).args({scope:"object",className:"string"},"string").use(function(e,t){return n.addClass(e,t,!1),n}).args("string","string").use(function(e,t){return"$"==e[0]?n.elements(e).forEach(function(e){n.addClass(e,t,!1)}):console.warn("selector must begin with '$'"),n}).args("string","boolean").use(function(t,r){return n.addClass(e,t,r),n}).args("string").use(function(t){return n.addClass(e,t,!1),n}).args().use(function(){return console.warn("addClass function inputs improperly formatted"),n}),i.removeClass=r().args({scope:"object",className:"string"},"string","boolean").use(function(e,t,r){if(e.scope==n){var o=r?"g":"",s=new RegExp("(^"+t+"$|\\s"+t+"\\s|^"+t+"\\s|\\s"+t+"$)",o);e.className=e.className.replace(s," ").replace(/(^\s+|\s+$)/g,"").replace(/\s+/g," ")}else e.scope.removeClass(e,t,r);return n}).args({scope:"object",className:"string"},"string").use(function(e,t){return n.removeClass(e,t,!1),n}).args({0:"object",length:"number",forEach:"function"},"string","boolean").use(function(e,t,r){e.forEach(function(e){n.removeClass(e,t,r)})}).args("string","string","boolean").use(function(e,t,r){return"$"==e[0]?n.elements(e).forEach(function(e){n.removeClass(e,t,r)}):console.warn("selector must begin with '$'"),n}).args({0:"object",length:"number",forEach:"function"},"string").use(function(e,t){e.forEach(function(e){n.removeClass(e,t,!1)})}).args("string","string").use(function(e,t){return"$"==e[0]?n.elements(e).forEach(function(e){n.removeClass(e,t,!1)}):console.warn("selector must begin with '$'"),n}).args("string","boolean").use(function(t,r){return n.removeClass(e,t,r),n}).args("string").use(function(t){return n.removeClass(e,t,!1),n}).args().use(function(){return console.warn("removeClass function inputs improperly formatted"),n}),i.attr=r().args({scope:"object",getAttribute:"function",setAttribute:"function"},"string").use(function(e,t,r){return e.scope==n?void 0===r?e.getAttribute(t):(e.setAttribute(t,r),n):void 0===r?e.scope.attr(e,t):(e.scope.attr(e,t,r),n)}).args({0:"object",length:"number",forEach:"function"},"string").use(function(e,t,r){return e.forEach(function(e){n.attr(e,t,r)}),n}).args("string","string").use(function(t,r,o){if("$"==t[0]){var s=t,i=r;return void 0===(u=o)?n.attr(n.element(s),i):(n.elements(s).forEach(function(e){n.attr(e,i,u)}),n)}var i=t,u=r;return n.attr(e,i,u)}).args("string").use(function(t,r){return n.attr(e,t,r)}).args().use(function(){return console.warn("attr function inputs improperly formatted"),n}),i.css=r().args({scope:"object",style:"object"},"string").use(function(e,t,r){if(e.scope==n){if(void 0!==r){var o=n.attr(e,"style")||"",s=t+"[^;]*(;|$)";return replaceRule=new RegExp("((^(\\n|\\s)*|;)(\\s|\\n)*"+s+"|^"+s+")","gi"),replaceWith=t+":"+r+";",newRules=o.replace(replaceRule,";"+replaceWith).replace(/^;/,""),newRules==o?n.attr(e,"style",o+replaceWith):n.attr(e,"style",newRules),n}return getComputedStyle(e).getPropertyValue(t)}return r?(e.scope.css(e,t,r),n):e.scope.css(e,t)}).args({0:"object",length:"number",forEach:"function"},"string").use(function(e,t,r){return e.forEach(function(e){n.css(e,t,r)}),n}).args("string","string").use(function(t,r,o){if("$"==t[0]){var s=t,i=r,u=o;return n.elements(s).forEach(function(e){n.css(e,i,u)}),n}var i=t,u=r;return n.css(e,i,u)}).args("string").use(function(t){return n.css(e,t)}).args().use(function(){return console.warn("css function inputs improperly formatted"),n}),i.data=r().args({scope:"object",dataset:"object"},"string").use(function(e,t,r){return e.scope==n?void 0!==r?(e.dataset[t]=r,n):e.dataset[t]:e.scope.data(e,t)}).args("string","string").use(function(t,r,o){if("$"==t[0]){var s=t,i=r;return void 0===(u=o)?n.data(n.element(s),i):(n.elements(s).forEach(function(e){n.data(e,i,u)}),n)}var i=t,u=r;return n.data(e,i,u)}).args("string").use(function(t,r){return n.data(e,t,r)}).args().use(function(){return console.warn("data function inputs improperly formatted"),n}),i.html=r().args({scope:"object",appendChild:"function"},"string").use(function(e,t){return e.scope==n?(n.children.forEach(function(e){e.unlink()}),e.innerHTML=t,e.scope.include()):e.scope.html(e,t),n}).args("string","string").use(function(e,t){return"$"==e[0]&&n.html(n.element(e),t),n}).args({scope:"object",appendChild:"function"}).use(function(e){return e.scope==n?e.innerHTML:e.scope.html(e)}).args("string").use(function(t){if("$"==t[0]){var r=t;return n.html(n.element(r))}var o=t;return n.html(e,o),n}).args().use(function(e){return n.html(n.element())}),i.include=r().args({scope:"object",appendChild:"function"},"object").use(function(e,t){return e.scope!=n||t.scope?t.scope?console.warn("The item you are trying to include into this scope is already part of another scope. Try to append that scope to the current scope instead"):e.scope.include(e,t):(u(t),e.appendChild(t)),n}).args("string","object").use(function(e,t){return"$"==e[0]?n.include(n.element(e),t):console.warn("selector must begin with '$'"),n}).args("object").use(function(t){return n.include(e,t),n}).args().use(function(){return n.children.forEach(function(e){e.include()}),n.elements().forEach(function(e){e.scope||n.include(n.element(),e)}),n}),i.property=i.define=r().args("string",{get:"function",static:"undefined",asVar:"undefined"}).use(function(e,t){t.scope=n;var r={enumerable:void 0===t.enumerable||t.enumerable,configurable:!0,get:t.get};return t.set&&"function"==typeof t.set&&(r.set=t.set),r.get.bind&&(r.get=r.get.bind(t)),r.set&&r.set.bind&&(r.set=r.set.bind(t)),Object.defineProperty(n,e,r),n}).args("string",{get:"undefined",set:"undefined",asVar:"undefined",static:"!undefined"}).use(function(e,t){t.scope=n;var r={enumerable:void 0===t.enumerable||t.enumerable,configurable:!0,writable:!1,value:t.static};return r.value.bind&&(r.value=r.value.bind(t)),Object.defineProperty(n,e,r),n}).args("string",{get:"undefined",set:"undefined",asVar:"!undefined",static:"undefined"}).use(function(e,t){var r={enumerable:void 0===t.enumerable||t.enumerable,configurable:!0,writable:!0,value:t.asVar};return Object.defineProperty(n,e,r),n}).args().use(function(){return console.warn("property/define function inputs improperly formatted"),n}),i.element=function(n){return n?("$"==n[0]&&(n=n.replace(/^\$\s*/,"")),e.querySelector(n)):e},i.elements=function(t){if(t)return"$"==t[0]&&(t=t.replace(/^\$\s*/,"")),Array.prototype.slice.call(e.querySelectorAll(t),0);var r=Array.prototype.filter.call(e.querySelectorAll("*"),function(e){return e.scope==n});return r.unshift(e),r},i.append=i.appendChild=r().args({scope:{append:"function"},appendChild:"function"},{children:"object",root:"object",element:"function",unlink:"function"}).use(function(e,t){return e.scope==n?(t.unlink(),Object.setPrototypeOf(Object.getPrototypeOf(t),n),e.appendChild(t.element())):e.scope.append(e,t),n}).args("string",{children:"object",root:"object",element:"function",unlink:"function"}).use(function(e,t){return"$"==e[0]?n.append(n.element(e),t):console.warn("selector must begin with '$'"),n}).args({scope:{append:"function"},appendChild:"function"},"object").use(function(e,t){return e.scope==n?n.include(e,t):e.scope.include(e,t),n}).args("string","object").use(function(e,t){return"$"==e[0]?n.append(n.element(e),t):console.warn("selector must begin with '$'"),n}).args({scope:{append:"function"},appendChild:"function"},"string").use(function(e,t){return o.innerHTML=t,Array.prototype.slice.call(o.children,0).forEach(function(t){n.append(e,t)}),n}).args("string","string").use(function(e,t){if("$"==e[0]){var r=n.element(e);o.innerHTML=t,Array.prototype.slice.call(o.children,0).forEach(function(e){n.append(r,e)})}else console.warn("selector must begin with '$'");return n}).args({children:"object",root:"object",element:"function",unlink:"function"}).use(function(t){return n.append(e,t),n}).args("object").use(function(t){return e.scope==n&&n.append(e,t),n}).args("string").use(function(t){return o.innerHTML=t,Array.prototype.slice.call(o.children,0).forEach.call(o.children,function(t){n.append(e,t)}),n}).args().use(function(){return console.warn("append/appendChild function inputs improperly formatted"),n}),i.unlink=function(){return e.parentNode&&(Object.setPrototypeOf(Object.getPrototypeOf(n),Object.prototype),e.parentNode.removeChild(e)),n},i.render=function(){return n.unlink(),document.body.appendChild(e),n},n};e.stateless={};var u={},c={};Object.setPrototypeOf(e.stateless,c),Object.setPrototypeOf(c,u);var a=0,l=function(n){var t=a,r=n.id||t;if(n.id){var o=n.className;n.className=n.id,o&&(n.className+=" "+o),n.removeAttribute("id")}return a++,Object.defineProperty(e.stateless,r,{enumerable:!1,configurable:!1,writable:!1,value:n}),e.stateless[t]||Object.defineProperty(e.stateless,t,{enumerable:!1,configurable:!1,writable:!1,value:n}),r};Object.defineProperty(u,"length",{enumerable:!1,configurable:!1,get:function(){return a}}),Object.defineProperty(u,"consume",{enumerable:!1,configurable:!1,writable:!1,value:function(n){if(n instanceof HTMLElement)n.parentElement&&n.parentElement.removeChild(n),l(n);else if("string"==typeof n)o.innerHTML=n,stateless.consume(o.children);else{if(!n.length||!n[0])throw new Error("Invalid inputs");for(var t=0;t<n.length;t++)stateless.consume(n[t])}return e.stateless}}),Object.defineProperty(u,"register",{enumerable:!1,configurable:!1,writable:!1,value:u.consume}),Object.defineProperty(u,"each",{enumerable:!1,configurable:!1,writable:!1,value:function(n){for(var t=0;t<a;t++)n(e.stateless[t],t);return e.stateless}}),Object.defineProperty(u,"instantiate",{enumerable:!1,configurable:!1,writable:!1,value:function(e){if(stateless[e]){var n=i(stateless[e].cloneNode(!0));return s.push(n),n}throw new Error(e+" cannot be found in the template library")}});var f={};Object.defineProperty(u,"watch",{enumerable:!1,configurable:!1,writable:!1,value:function(e,n){f[e]=f[e]||[];var t=f[e].push(n)-1;return function(){f[e].splice(t,1)}}}),Object.defineProperty(u,"emit",{enumerable:!1,configurable:!1,writable:!1,value:function(e,n){n=n||{},f[e]&&f[e].forEach(function(e){e(n)})}}),Object.defineProperty(u,"plugin",{enumerable:!1,configurable:!1,writable:!1,value:r().args("string","!undefined").use(function(e,n){if(c.hasOwnProperty(e))return console.warn("Plugin already defined");Object.defineProperty(c,e,{enumerable:!0,configurable:!0,writable:!0,value:n})}).args("string","undefined").use(function(e){if(c.hasOwnProperty(e))return c[e]}).args().use(function(){console.warn("plugin error")})})}}(this,function(e){var n=this;eval.call(n,e)}.bind(this));
